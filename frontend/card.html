<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>watch</title>
    <link rel="stylesheet" href="style.css" />
    <!-- bootstrap  -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="dics.css">
    <link rel="stylesheet" href="cart.css">
    <style>
        
    </style>
  </head>
  <body>
    <!-- header  -->

    <div class="section">
      <!-- .first  -->
      <div class="header-section row">
        <div class="col-4 input-first">
          <i class="bi bi-search"></i>
          <input type="text" placeholder="What can we halp you find" />
        </div>
        <div class="col-5 logo">
          <svg
            width="125"
            role="img"
            aria-label="Nixon home logo"
            height="26"
            viewBox="0 0 125 26"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>Nixon home</title>
            <desc>Nixon home logo</desc>
            <path
              d="M49.3465 2.80859L43.1715 10.4676L36.9701 2.80859H32.8623L41.1044 12.9853L32.8888 23.162H36.9701L43.1715 15.5295L49.32 23.162H53.4808L45.2122 12.9853L53.5073 2.80859H49.3465Z"
              fill="black"
            ></path>
            <path
              d="M27.933 2.80859H24.5938V23.162H27.933V2.80859Z"
              fill="black"
            ></path>
            <path
              d="M14.9736 17.5436L3.02122 2.80859H0V23.162H3.33924V8.42699L15.2916 23.162H18.3128V2.80859H14.9736V17.5436Z"
              fill="black"
            ></path>
            <path
              d="M94.7442 17.5436L82.7653 2.80859H79.7706V23.162H83.1099V8.42699L95.0622 23.162H98.0569V2.80859H94.7442V17.5436Z"
              fill="black"
            ></path>
            <path
              d="M65.2211 2.70312C59.5497 2.70312 54.9384 7.31445 54.9384 12.9859C54.9384 18.6573 59.5497 23.2951 65.2211 23.2951C70.8925 23.2951 75.5304 18.6838 75.5304 12.9859C75.5304 7.31445 70.919 2.70312 65.2211 2.70312ZM65.2211 19.9558C61.3784 19.9558 58.2512 16.8286 58.2512 12.9859C58.2512 9.14308 61.3784 6.01586 65.2211 6.01586C69.0639 6.01586 72.1911 9.14308 72.1911 12.9859C72.1911 16.8286 69.0639 19.9558 65.2211 19.9558Z"
              fill="black"
            ></path>
            <path
              d="M117.456 0C117.456 1.98764 117.456 10.1767 117.43 12.8799C117.43 14.3375 117.907 15.1061 118.675 15.7686C120.292 17.1202 121.087 17.7563 121.803 18.7103C123.287 20.698 120.16 23.1626 116.502 23.1626C112.845 23.1626 109.744 20.6715 111.202 18.7103C111.917 17.7563 112.712 17.1202 114.329 15.7686C115.124 15.1061 115.601 14.3375 115.575 12.8799C115.575 10.1767 115.575 1.96114 115.575 0C115.575 0 104.417 13.4895 109.267 21.7845C110.513 23.7722 112.924 25.0973 116.529 25.0973C120.133 25.0973 122.545 23.7457 123.79 21.7845C128.614 13.463 117.456 0 117.456 0Z"
              fill="black"
            ></path>
          </svg>
        </div>
        <div class="col-3 order-btn">
          <ul class="ord-btn d-flex">
            <li><a href="" class="ord-bt">order status</a></li>
            <li><a href="" class="ord-bt">find a store</a></li>
            <li>
              <a href="" class="ord-bt"
                >sign in <i class="bi bi-chevron-down"></i
              ></a>
            </li>
            <li>
              <a href="card.html" class="ord-bt"><i class="bi bi-cart"></i></a>
            </li>
          </ul>
        </div>
      </div>
      <!-- second  -->
      <div class="sec-header">
        <div class="main-menu">
          <ul class="menu-ul d-flex justify-content-between m-auto w-75">
            <li>
              <a href="" class="menu-a"
                >Men's watches <i class="bi bi-chevron-down"></i
              ></a>
            </li>
            <li>
              <a href="" class="menu-a"
              
              >Women's Watches <i class="bi bi-chevron-down"></i
              ></a>
            </li>
            <li><a href="" class="menu-a">Custom Watches</a></li>
            <li>
              <a href="" class="menu-a"
                >Bands <i class="bi bi-chevron-down"></i
              ></a>
            </li>
            <li>
              <a href="" class="menu-a">Headwear <i class="bi bi-"></i></a>
            </li>
            <li>
              <a href="" class="menu-a"
                >Bags &amp; Accessories <i class="bi bi-chevron-down"></i
              ></a>
            </li>
            <li>
              <a href="" class="menu-a"
                >Gifts <i class="bi bi-chevron-down"></i
              ></a>
            </li>
          </ul>
        </div>
      </div>
    </div>
   
    <div id="mainSection">
        <div style="display:flex">
                <div class="card" data-id=${id}>
                     <div class="card-img">
                   <img src="assests/product 10.webp" alt="pitch">
                     </div>
                         <div class="card-body">
                              <h4 class="card-title"style="color:black">dfghjk</h4>
                              <p class="card-founder"style="color:black">Founder:${founder}</p>
                              <p class="card-category"style="color:black">${category}</p>
                              <p class="card-price"style="color:black">${price}</p>
                              <button class="card-button"style="color:white;text-decoration:none;background-color:black;font-weight:bold;border-radius:5px"data-id=${id}>Delete</button>
                        </div>
                      </div>

    </div>
</body>
<script>
    function Fetchdata() {
    fetch("https://nixon-r44n.onrender.com/cart").then((res) => res.json())
        .then((data) => {
            Cardlist(data)
            productdata=data
        })
        .catch((err) => console.log(err))
}
Fetchdata()


function Cardlist(data){
    const store=data.map((el)=>Card(el.id,el.image,el.title,el.price,el.founder,el.category,el.description))
    document.getElementById("mainSection").innerHTML=store.join("")
}

function Card(id,image,title,price,founder,category,description){
    let singlecard=`
    <div style="display:flex">
    <div class="card" data-id=${id}>
        <div class="card-img">
      <img src=${image} alt="pitch">
        </div>
    <div class="card-body">
      <h4 class="card-title"style="color:black">${title}</h4>
      
      <p class="card-price"style="color:black">${price}</p>
      <button class="card-button"style="color:white;text-decoration:none;background-color:black;font-weight:bold;border-radius:5px"data-id=${id}>Delete</button>
    </div>
  </div>
  </div>
  </a>
    `
    return singlecard
}
document.addEventListener("click", (e) => {
    if (e.target.classList.contains("card-button")) {
        console.log(e.target.dataset.id);
        deleteProduct(e.target.dataset.id);
    }
});

function deleteProduct(id) {
    fetch(`https://nixon-r44n.onrender.com/cart/${id}`, {
        method: "DELETE"
    })
    .then((res) => res.json())
    .then((data) => {
        alert("Deleted....");
        console.log(data);
    })
    .catch((err) => console.log(err));
}
 </script>
</html>